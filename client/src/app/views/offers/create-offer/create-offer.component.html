<mat-card class="card-decoration">

    <form [formGroup]="form" 
          class="example-form" 
          (ngSubmit)="actionForm()" 
          enctype="multipart/form-data" 
          method="POST">

    <app-input-element 
        [context]="form"
          [model]="titleModel">
    </app-input-element>

    <app-img-upload 
        [context]="form"
        [model]="imgModel"
        (image)="onImageSelected($event)">
    </app-img-upload>
    
    <ng-container *ngIf="uploadVisibility; else updateButton">

    <button mat-button 
        class="menu-button" 
        (click)="upload()">
        Upload image

        <mat-icon 
            class="example-icon" 
            aria-label="Example icon-button with menu icon">
            upload
        </mat-icon>       
    </button>

    </ng-container>

<ng-template #updateButton>

    <figure class="image-container">
        <img [src]="uploadImage" id="upload-image" />
    </figure>
    
    <button mat-button 
        class="menu-button red" 
        (click)="cancel()">

        <mat-icon class="example-icon" 
            aria-label="Example icon-button with menu icon">
            cancel
        </mat-icon>

    </button>

</ng-template>

    <app-description 
        [context]="form"
          [model]="descriptionModel">
    </app-description>

    <app-input-element
          [context]="form"
          [model]="priceModel">
    </app-input-element>

    <app-iput-date-picker
          [context]="form"
          [model]="fromDateModel"
          [value]="dateNow">
    </app-iput-date-picker>
    
    <app-iput-date-picker
          [context]="form"
          [model]="untilDateModel"
          [value]="dateNow">
    </app-iput-date-picker>

    <mat-card-actions id="button-container">
        <button mat-raised-button 
            color="primary" 
            [disabled]="form.invalid">
            Submit
        </button>
    </mat-card-actions>
    </form>
</mat-card>